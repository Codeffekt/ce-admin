<ce-nav-layout>
    <ce-navbar ceNavBar>
        <ce-navbar-content>
            <ce-navbar-item>Formulaires</ce-navbar-item>
            <ce-navbar-actions>
                <button mat-stroked-button color="accent" matTooltip="Ajouter un formulaire" (click)="create()">
                    <mat-icon>add</mat-icon>Ajouter
                </button>
            </ce-navbar-actions>
        </ce-navbar-content>
    </ce-navbar>

    <ce-formquery-wrapper [paginationEnabled]="true" [searchEnabled]="true">
        <ce-list>
            <ce-list-item *ngFor="let form of forms$ | async" (click)="onSelected(form)">
                <ce-list-item-factory [type]="form.core.root" [item]="form">
                </ce-list-item-factory>
                <ce-list-item-actions>
                    <button mat-menu-item (ngReallyClick)="delete(form)" ngReallyTitle="Confirmation requise"
                        ngReallyMessage="Voulez-vous vraiment supprimer le formulaire {{form.core.id}} ?">
                        <span>Supprimer</span>
                    </button>
                    <button mat-menu-item (ngReallyClick)="copy(form)" ngReallyTitle="Confirmation requise"
                        ngReallyMessage="Voulez-vous vraiment copier le formulaire {{form.core.id}} ?">
                        <span>Copier</span>
                    </button>
                </ce-list-item-actions>
            </ce-list-item>            
        </ce-list>
    </ce-formquery-wrapper>
</ce-nav-layout>